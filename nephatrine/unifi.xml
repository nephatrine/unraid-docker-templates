<?xml version="1.0" encoding="utf-8"?>
<Container>
	<TemplateURL>https://raw.githubusercontent.com/nephatrine/unraid-docker-templates/master/nephatrine/unifi.xml</TemplateURL>

	<Name>unifi</Name>
	<Project>https://unifi-sdn.ubnt.com/</Project>
	<Overview>UniFi is quickly expanding to a full Software Defined Networking (SDN) solution.</Overview>
	<Description>UniFi is quickly expanding to a full Software Defined Networking (SDN) solution.[br]
  [br][b]Variables[/b][br]
  [b]PGID:[/b] NGINX GID[br]
  [b]PUID:[/b] NGINX UID[br]
  [b]TZ:[/b] Time Zone[br]
  [br][b]Network Ports[/b][br]
  [b]TCP 8080:[/b] UniFi Inform[br]
  [b]TCP 8443:[/b] Web GUI Access[br]
  [b]TCP 8880:[/b] Guest Portal (HTTP)[br]
  [b]TCP 8843:[/b] Guest Portal (HTTPS)[br]
  [b]TCP 6789:[/b] Mobile Speed Test[br]
  [b]UDP 3478:[/b] STUN Support[br]
  [b]UDP 10001:[/b] AP Discovery[br]
  [br][b]Volume Mounts[/b][br]
  [b]/mnt/config:[/b] Config/Data/Log Volume[br]
	</Description>

	<BaseImage>nephatrine/base-alpine</BaseImage>
	<Beta>False</Beta>
	<Category>Network:Management</Category>
	<Registry>https://hub.docker.com/r/nephatrine/unifi/</Registry>
	<Repository>nephatrine/unifi</Repository>
	<Support>https://github.com/nephatrine/docker-unifi/issues</Support>

	<BindTime>true</BindTime>
	<Privileged>false</Privileged>

	<Environment>
		<Variable>
			<Name>PUID</Name>
			<Value>1000</Value>
		</Variable>
		<Variable>
			<Name>PGID</Name>
			<Value>100</Value>
		</Variable>
		<Variable>
			<Name>TZ</Name>
			<Value>America/New_York</Value>
		</Variable>
	</Environment>
	<Config Name="Timezone" Target="TZ" Default="America/New_York" Type="Variable" Display="always" Required="false" Mask="false"></Config>
	<Config Name="Owner UID" Target="PUID" Default="1000" Type="Variable" Display="advanced" Required="false" Mask="false"></Config>
	<Config Name="Owner GID" Target="PGID" Default="100" Type="Variable" Display="advanced" Required="false" Mask="false"></Config>

	<Networking>
		<Mode>bridge</Mode>
		<Publish>
			<Port>
				<HostPort>3478</HostPort>
				<ContainerPort>3478</ContainerPort>
				<Protocol>udp</Protocol>
			</Port>
			<Port>
				<HostPort>6789</HostPort>
				<ContainerPort>6789</ContainerPort>
				<Protocol>tcp</Protocol>
			</Port>
			<Port>
				<HostPort>8080</HostPort>
				<ContainerPort>8080</ContainerPort>
				<Protocol>tcp</Protocol>
			</Port>
			<Port>
				<HostPort>8443</HostPort>
				<ContainerPort>8443</ContainerPort>
				<Protocol>tcp</Protocol>
			</Port>
			<Port>
				<HostPort>8843</HostPort>
				<ContainerPort>8843</ContainerPort>
				<Protocol>tcp</Protocol>
			</Port>
			<Port>
				<HostPort>8880</HostPort>
				<ContainerPort>8880</ContainerPort>
				<Protocol>tcp</Protocol>
			</Port>
			<Port>
				<HostPort>10001</HostPort>
				<ContainerPort>10001</ContainerPort>
				<Protocol>udp</Protocol>
			</Port>
		</Publish>
	</Networking>
	<Config Name="Inform Port" Target="8080" Default="8080" Mode="tcp" Type="Port" Display="always" Required="true"></Config>
	<Config Name="GUI Port" Target="8443" Default="8443" Mode="tcp" Type="Port" Display="always" Required="true"></Config>
	<Config Name="Discovery Port" Target="10001" Default="10001" Mode="udp" Type="Port" Display="always" Required="false"></Config>
	<Config Name="STUN Port" Target="3478" Default="3478" Mode="udp" Type="Port" Display="always" Required="false"></Config>
	<Config Name="Guest Portal (HTTPS)" Target="8843" Default="" Mode="tcp" Type="Port" Display="advanced" Required="false"></Config>
	<Config Name="Guest Portal (HTTP)" Target="8880" Default="" Mode="tcp" Type="Port" Display="advanced" Required="false"></Config>
	<Config Name="Speedtest Port (Mobile)" Target="6789" Default="" Mode="tcp" Type="Port" Display="advanced" Required="false"></Config>

	<Data>
		<Volume>
			<HostDir>/mnt/user/appdata/docker-unifi</HostDir>
			<ContainerDir>/mnt/config</ContainerDir>
			<Mode>rw</Mode>
		</Volume>
	</Data>
	<Config Name="Operational Mount" Target="/mnt/config" Default="/mnt/user/appdata/docker-unifi" Mode="rw" Type="Path" Display="always" Required="true"></Config>

	<Icon>https://github.com/nephatrine/unraid-docker-templates/raw/master/nephatrine/icons/unifi.png</Icon>
	<WebUI>https://[IP]:[PORT:8443]/</WebUI>
</Container>